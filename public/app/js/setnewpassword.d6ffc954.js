(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setnewpassword"],{"413e":function(s,e,t){"use strict";t("fb57")},4703:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("MainLayout",[t("div",["set_new_password"===s.active?t("SetNewPassword",{on:{responseSetPassword:s.onActive}}):s._e(),"success_new_password"===s.active?t("SuccessSetNewPassword"):s._e(),"error_set_new_password"===s.active?t("ErrorSetNewPassword",{attrs:{"error-message":s.error}}):s._e()],1)])},r=[],o=t("ade3"),n=t("1da1"),i=(t("96cf"),t("ac1f"),t("841c"),t("d3b7"),t("3ca3"),t("ddb0"),t("9861"),function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"item_forgot_password"},[t("div",{staticClass:"forgot_password"},[s._m(0),s._m(1),t("div",{staticClass:"mb-4 box_btn"},[t("div",{staticClass:"btn-c2",on:{click:s.homePage}},[s._v(" Back to login ")])])])])}),c=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"app_logo"},[a("img",{attrs:{src:t("9280"),alt:"icon-approved.svg"}})])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"form_forgot_password"},[t("div",{staticClass:"text_title"},[s._v("Password reset successful")])])}],d=t("5530"),l=t("2f62"),u=t("09f9"),p={name:"ErrorSetNewPassword",props:["errorMessage"],components:{},data:function(){return{}},mounted:function(){},computed:{},methods:Object(d["a"])(Object(d["a"])({},Object(l["c"])(["showLoader","hideLoader"])),{},{homePage:function(){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.$router.push({to:"/login",name:"Login"}).then();case 1:case"end":return e.stop()}}),e)})))()}})},w=p,_=(t("7b2e"),t("2877")),v=Object(_["a"])(w,i,c,!1,null,"016dedc9",null),m=v.exports,f=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"item_forgot_password"},[t("div",{staticClass:"forgot_password"},[s._m(0),t("div",{staticClass:"form_forgot_password"},[t("div",{staticClass:"text_title"},[s._v(s._s(s.errorMessage))])]),t("div",{staticClass:"mb-4 box_btn"},[t("div",{staticClass:"btn-c2",on:{click:s.homePage}},[s._v(" Open home page ")])])])])},h=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"app_logo"},[a("img",{attrs:{src:t("9280"),alt:"icon-approved.svg"}})])}],b={name:"ErrorSetNewPassword",props:["errorMessage"],components:{},data:function(){return{}},mounted:function(){},computed:{},methods:Object(d["a"])(Object(d["a"])({},Object(l["c"])(["showLoader","hideLoader"])),{},{homePage:function(){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.$router.push({to:"/",name:"Home"}).then();case 1:case"end":return e.stop()}}),e)})))()}})},g=b,O=(t("702c"),Object(_["a"])(g,f,h,!1,null,"29b7900b",null)),P=O.exports,k=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"item_forgot_password"},[t("div",{staticClass:"forgot_password"},[s._m(0),t("div",{staticClass:"form_forgot_password"},[t("div",{staticClass:"text_title"},[s._v("Password reset")]),t("div",{staticClass:"montserrat"},[t("div",{staticClass:"box_input"},[t("div",{staticClass:"mb-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":s.password_is_valid},attrs:{type:"password",placeholder:"new password"},domProps:{value:s.password},on:{keypress:s.keypressPassword,input:function(e){e.target.composing||(s.password=e.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[s._v(s._s(s.password_is_valid))])]),t("div",{staticClass:"mb-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.confirm_password,expression:"confirm_password"}],staticClass:"form-control",class:{"is-invalid":s.confirm_password_is_valid},attrs:{type:"password",placeholder:"repeat new password"},domProps:{value:s.confirm_password},on:{keypress:s.keypressConfirmPassword,input:function(e){e.target.composing||(s.confirm_password=e.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[s._v(s._s(s.confirm_password_is_valid))])])])])]),t("div",{staticClass:"mb-4 box_btn"},[t("div",{staticClass:"btn-c2",class:{"not-active-btn":!s.active_btn},on:{click:s.newPassword}},[s._v("Reset password")]),t("div",{staticClass:"link justify-content-center"},[t("div",{staticClass:"style_link",on:{click:s.backToLogin}},[s._v("Back to login")])])])])])},C=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"app_logo"},[a("img",{attrs:{src:t("9280"),alt:"icon-approved.svg"}})])}],S=t("8bea"),j={name:"SetNewPassword",components:{},data:function(){return{password:null,confirm_password:null,password_is_valid:!1,confirm_password_is_valid:!1}},mounted:function(){},computed:{active_btn:function(){return this.password&&this.confirm_password}},methods:Object(d["a"])(Object(d["a"])({},Object(l["c"])(["showLoader","hideLoader"])),{},{backToLogin:function(){this.$emit("forgotPassword",S["a"].LOGIN)},keypressPassword:function(){this.password_is_valid=!1},keypressConfirmPassword:function(){this.confirm_password_is_valid=!1},getTokenFromUrlQuery:function(){var s=window.location.search,e=new URLSearchParams(s);return e.get("t")},newPassword:function(){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s.formValidate()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,s.showLoader(),e.next=6,s.$http.post("".concat(s.$http.apiUrl(),"set_new_password"),{password:s.password,token:s.getTokenFromUrlQuery()});case 6:e.sent,s.$emit("responseSetPassword","success_new_password"),s.hideLoader(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](2),o=(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t||null===(a=t.data)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.message)||"ERROR",Object(u["a"])(o);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},clearValid:function(){this.password_is_valid=!1,this.confirm_password_is_valid=!1},formValidate:function(){var s=!1;return this.clearValid(),this.password||(this.password_is_valid="This field is required",s=!0),this.confirm_password||(this.confirm_password_is_valid="This field is required",s=!0),this.password<8&&(this.password_is_valid="Password needs to be at least 8 characters",s=!0),this.password&&this.confirm_password&&this.password!==this.confirm_password&&(this.confirm_password_is_valid="Please make sure your passwords match",s=!0),s}})},R=j,x=(t("413e"),Object(_["a"])(R,k,C,!1,null,"2b299bfa",null)),L=x.exports,y=t("713b"),N={name:"SentNewPassword",components:{MainLayout:y["a"],SetNewPassword:L,ErrorSetNewPassword:P,SuccessSetNewPassword:m},data:function(){return{active:null,error:null}},mounted:function(){this.loadUserInfoByToken()},methods:{onActive:function(s){this.active=s},getTokenFromUrlQuery:function(){var s=window.location.search,e=new URLSearchParams(s);return e.get("t")},loadUserInfoByToken:function(){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,r,o,n,i,c,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=s.getTokenFromUrlQuery(),o={token:r},e.next=5,s.$http.post("".concat(s.$http.apiUrl(),"reset-pass-info"),o);case 5:n=e.sent,(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user)||null,s.active="set_new_password",e.next=16;break;case 10:e.prev=10,e.t0=e["catch"](0),l=(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c||null===(d=c.error)||void 0===d?void 0:d.message)||"Oops... Something went wrong...",s.error=l,console.log(l),s.active="error_set_new_password";case 16:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},computed:{enums:function(){var s;return s={},Object(o["a"])(s,S["a"].LOGIN,S["a"].LOGIN),Object(o["a"])(s,S["a"].FORGOT_PASSWORD,S["a"].FORGOT_PASSWORD),s}}},E=N,T=Object(_["a"])(E,a,r,!1,null,"4b4a7e2f",null);e["default"]=T.exports},"702c":function(s,e,t){"use strict";t("ea1a")},"7b2e":function(s,e,t){"use strict";t("be56")},"8bea":function(s,e,t){"use strict";t.d(e,"a",(function(){return n}));var a=t("bee2"),r=t("d4ec"),o=t("ade3"),n=Object(a["a"])((function s(){Object(r["a"])(this,s)}));Object(o["a"])(n,"LOGIN","LOGIN"),Object(o["a"])(n,"FORGOT_PASSWORD","FORGOT_PASSWORD"),Object(o["a"])(n,"SEND_EMAIL_FORGOT_PASSWORD","SEND_EMAIL_FORGOT_PASSWORD")},be56:function(s,e,t){},ea1a:function(s,e,t){},fb57:function(s,e,t){}}]);
//# sourceMappingURL=setnewpassword.d6ffc954.js.map